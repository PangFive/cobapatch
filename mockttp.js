!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bfcd10f3-c231-4a45-bd8d-94c35b3e1445",e._sentryDebugIdIdentifier="sentry-dbid-bfcd10f3-c231-4a45-bd8d-94c35b3e1445")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"6f5105eba6a6fcb75f0fb4f397fc4789cb9d8b0a"},(self.webpackChunkhttptoolkit_ui=self.webpackChunkhttptoolkit_ui||[]).push([["mockttp"],{40903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminClient=t.GraphQLError=t.RequestError=t.ConnectionError=void 0,t.resetAdminServer=async function(e={}){const t=e.adminServerUrl||`http://localhost:${h.DEFAULT_ADMIN_SERVER_PORT}`;await E(t,"/reset",{...e.requestOptions,method:"POST"})};const n=r(2543),s=r(37007),i=r(43615),o=r(44723),a=r(39893),c=r(30169),u=r(468),l=r(54853),d=r(24135),h=r(33007),p=r(66939),f=r(729),m=r(35218),y=r(83595),g=r(83595),w=r(63542),{fetch:b,Headers:R}=p.isNode||void 0===globalThis.fetch?a:globalThis;class v extends o.TypedError{}t.ConnectionError=v;class S extends o.TypedError{constructor(e,t){super(e),this.response=t}}t.RequestError=S;class C extends S{constructor(e,t){super(0===t.length?`GraphQL request failed with ${e.status} response`:1===t.length?`GraphQL request failed with: ${t[0].message}`:`GraphQL request failed, with errors:\n${t.map((e=>e.message)).join("\n")}`,e),this.errors=t}}t.GraphQLError=C;const T=(e,t)=>t?e?(t.headers&&(e.headers?e.headers instanceof R?n.forEach(t.headers,((t,r)=>{e.headers.append(r,t)})):n.isObject(e.headers)&&Object.assign(e.headers,t.headers):e.headers=t.headers),e):t:e;async function E(e,t,r){const n=`${e}${t}`;let s;try{s=await b(n,r)}catch(t){throw(0,f.isErrorLike)(t)&&"ECONNREFUSED"===t.code?new v(`Failed to connect to admin server at ${e}`):t}if(s.status>=400){let e=await s.text(),t=null;try{t=JSON.parse(e)}catch(e){}throw t&&t.error?new S(t.error,s):new S(`Request to ${n} failed, with status ${s.status} and response body: ${e}`,s)}return s.json()}class O extends s.EventEmitter{constructor(e={}){super(),this.debug=!1,this.running=!1,this.enableDebug=async()=>(this.debug=!0,await this.queryMockServer("mutation EnableDebug {\n                enableDebug\n            }")),this.reset=async()=>await this.queryMockServer("mutation Reset {\n                reset\n            }"),this.debug=!!e.debug,this.adminClientOptions=n.defaults(e,{adminServerUrl:`http://localhost:${h.DEFAULT_ADMIN_SERVER_PORT}`,adminStreamReconnectAttempts:5})}attachStreamWebsocket(e,t){const r=e.replace(/^http/,"ws"),n=u(`${r}/stream`,{headers:this.adminClientOptions.requestOptions?.headers});let s=!1;return n.on("connect",(()=>{s=!0,t.pipe(n),n.pipe(t,{end:!1})})),n.on("error",(e=>{this.debug&&console.warn("Admin client stream error",e),this.emit("stream-error",e)})),n.on("ws-close",(async r=>{t.unpipe(n),1e3===r.code?t.emit("server-shutdown"):s&&!0===await this.running&&(console.warn("Admin client stream unexpectedly disconnected",r),this.adminClientOptions.adminStreamReconnectAttempts>0?this.tryToReconnectStream(e,t):(console.log("Admin client stream reconnect disabled, shutting down"),t.emit("server-shutdown")))})),t.on("finish",(()=>{n.removeAllListeners("connect"),n.removeAllListeners("ws-close"),n.destroy()})),n}async tryToReconnectStream(e,t,r=this.adminClientOptions.adminStreamReconnectAttempts){this.emit("stream-reconnecting");const n=this.attachStreamWebsocket(e,t);new Promise(((e,t)=>{n.once("connect",e),n.once("error",t)})).then((()=>{console.warn("Admin client stream reconnected"),this.emit("stream-reconnected")})).catch((async n=>{if(r>0){const n=this.adminClientOptions.adminStreamReconnectAttempts-r;return await(0,p.delay)(10*Math.pow(5,n)),this.tryToReconnectStream(e,t,r-1)}console.warn("Admin client stream reconnection failed, shutting down:",n.message),this.debug&&console.warn(n),this.emit("stream-reconnect-failed",n),t.emit("server-shutdown")}))}openStreamToMockServer(e){const{socket1:t,socket2:r}=new i,n=this.attachStreamWebsocket(e,t);return t.on("error",(e=>r.emit("error",e))),r.on("finish",(()=>t.end())),t.on("server-shutdown",(()=>r.emit("server-shutdown"))),r.setMaxListeners(100),new Promise(((e,t)=>{n.once("connect",(()=>e(r))),n.once("error",t)}))}prepareSubscriptionClientToAdminServer(e){const t=`${e.replace(/^http/,"ws")}/subscription`;this.subscriptionClient=new l.SubscriptionClient(t,{lazy:!0,reconnect:!0,reconnectionAttempts:8,wsOptionArguments:[this.adminClientOptions.requestOptions]},c),this.subscriptionClient.onError((e=>{this.emit("subscription-error",e),this.debug&&console.error("Subscription error",e)})),this.subscriptionClient.onReconnecting((()=>{this.emit("subscription-reconnecting"),console.warn("Reconnecting Mockttp subscription client")}))}async requestFromMockServer(e,t){if(!this.adminSessionBaseUrl)throw new Error("Not connected to mock server");let r=this.adminSessionBaseUrl+e,n=await b(r,T(t,this.adminClientOptions.requestOptions));if(n.status>=400)throw this.debug&&console.error(`Remote client server request failed with status ${n.status}`),new S(`Request to ${r} failed, with status ${n.status}`,n);return n}async queryMockServer(e,t){try{const r=await this.requestFromMockServer("/",{method:"POST",headers:new R({"Content-Type":"application/json"}),body:JSON.stringify({query:e,variables:t})}),{data:n,errors:s}=await r.json();if(s&&s.length)throw new C(r,s);return n}catch(e){if(this.debug&&console.error(`Remote client query error: ${e}`),!(e instanceof S))throw e;let t;try{t=(await e.response.json()).errors}catch(e){}throw t?new C(e.response,t):e}}async start(e){if(this.adminSessionBaseUrl||await this.running)throw new Error("Server is already started");this.debug&&console.log("Starting remote mock server"),this.emit("starting");const t=(0,m.getDeferred)();this.running=t.then((e=>(this.emit(e?"started":"start-failed"),this.running=e,e)));try{const r="http"in e?e.http.port:void 0,n=r?`/start?port=${JSON.stringify(r)}`:"/start",s=await E(this.adminClientOptions.adminServerUrl,n,T({method:"POST",headers:new R({"Content-Type":"application/json"}),body:JSON.stringify({plugins:e,...e.http?.options})},this.adminClientOptions.requestOptions)),i="id"in s,o=i?s.id:s.port.toString(),a=`${this.adminClientOptions.adminServerUrl}/${i?"session":"server"}/${o}`,c=await this.openStreamToMockServer(a);c.on("server-shutdown",(()=>{this.adminServerStream===c&&(console.warn("Client stopping due to admin server shutdown"),this.stop())})),this.adminServerStream=c,this.prepareSubscriptionClientToAdminServer(a),this.adminSessionBaseUrl=a,this.adminServerSchema=new g.SchemaIntrospector((await this.queryMockServer(y.introspectionQuery)).__schema),this.debug&&console.log("Started remote mock server");const u=this.adminServerMetadata="pluginData"in s?s.pluginData:{http:s};return t.resolve(!0),u}catch(e){throw t.resolve(!1),e}}isRunning(){return!0===this.running}get metadata(){if(!this.isRunning())throw new Error("Metadata is not available until the mock server is started");return this.adminServerMetadata}get schema(){if(!this.isRunning())throw new Error("Admin schema is not available until the mock server is started");return this.adminServerSchema}get adminStream(){if(!this.isRunning())throw new Error("Admin stream is not available until the mock server is started");return this.adminServerStream}async stop(){if(!1===await this.running)return;this.emit("stopping");const e=(0,m.getDeferred)();this.running=e.then((e=>(this.emit("stopped"),this.running=e,e)));try{this.debug&&console.log("Stopping remote mock server");try{this.subscriptionClient?.close()}catch(e){console.log(e)}this.subscriptionClient=void 0;try{this.adminServerStream?.end()}catch(e){console.log(e)}this.adminServerStream=void 0,await this.requestServerStop()}finally{e.resolve(!1)}}requestServerStop(){return this.requestFromMockServer("/stop",{method:"POST"}).catch((e=>{if(!(e instanceof S&&404===e.response.status))throw e})).then((()=>{this.adminSessionBaseUrl=void 0,this.adminServerSchema=void 0,this.adminServerMetadata=void 0}))}async sendQuery(e){return(await this.sendQueries(e))[0]}async sendQueries(...e){const t=e.map((async({query:e,variables:t,transformResponse:r})=>{const n=await this.queryMockServer((0,d.print)(e),t);return r?r(n,{adminClient:this}):n}));return Promise.all(t)}async subscribe(e,t){if(!1===await this.running)throw new Error("Not connected to mock server");const r=(0,w.getSingleSelectedFieldName)(e);if(!this.schema.typeHasField("Subscription",r))return console.warn(`Ignoring client subscription for event unrecognized by Mockttp server: ${r}`),Promise.resolve();let n=!!this.subscriptionClient.client;return this.subscriptionClient.request(e).subscribe({next:async n=>{if(n.data){const s=n.data[r],i=e.transformResponse?await e.transformResponse(s,{adminClient:this}):s;t(i)}else n.errors&&console.error("Error in subscription",n.errors)},error:e=>this.debug&&console.warn("Error in remote subscription:",e)}),new Promise(((e,t)=>{n?e():(this.subscriptionClient.onConnected(e),this.subscriptionClient.onDisconnected(t),this.subscriptionClient.onError(t))}))}async getRuleParameterKeys(){if(!1===await this.running)throw new Error("Cannot query rule parameters before the server is started");return this.schema.queryTypeDefined("ruleParameterKeys")?(await this.queryMockServer("query GetRuleParameterNames {\n                ruleParameterKeys\n            }")).ruleParameterKeys:[]}}t.AdminClient=O},63542:(e,t)=>{"use strict";function r(e){return"Field"===e.kind}Object.defineProperty(t,"__esModule",{value:!0}),t.getSingleSelectedFieldName=function(e){const t=function(e){const{definitions:t}=e;if(1!==t.length||"OperationDefinition"!==t[0].kind)throw new Error("Admin queries must be defined as a single operation definition");return t[0].selectionSet}(e.query).selections.filter(r).map((e=>e.name.value));if(1!==t.length)throw new Error(`This admin query must select only one field, but it selects ${t.length}: ${t.join(", ")}`);return t[0]}},57679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockedEndpointClient=void 0,t.MockedEndpointClient=class{constructor(e,t,r){this.id=e,this.explanation=t,this.endpointDataGetter=r}async getMockedEndpointData(){const e=await this.endpointDataGetter();if(null===e)throw new Error("Can't get seen requests for unknown mocked endpoint");return e}async getSeenRequests(){return(await this.getMockedEndpointData()).seenRequests}async isPending(){return(await this.getMockedEndpointData()).isPending}toString(){return this.explanation?"Mocked endpoint: "+this.explanation:Object.toString.call(this)}}},39366:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MockttpAdminRequestBuilder=void 0;const s=r(2543),i=r(47907),o=r(83634),a=r(73662),c=r(57679),u=r(82263);function l(e,t){e.timingEvents?e.timingEvents=JSON.parse(e.timingEvents):"tls-client-error"!==t&&"client-error"!==t&&(e.timingEvents={}),e.rawHeaders?(e.rawHeaders=JSON.parse(e.rawHeaders),e.headers=(0,a.rawHeadersToObject)(e.rawHeaders)):e.headers&&(e.headers=JSON.parse(e.headers),e.rawHeaders=(0,a.objectHeadersToRaw)(e.headers)),e.rawTrailers?(e.rawTrailers=JSON.parse(e.rawTrailers),e.trailers=(0,a.rawHeadersToObject)(e.rawTrailers)):e.rawHeaders&&e.body&&(e.rawTrailers=[],e.trailers={}),void 0!==e.body&&(e.body=(0,o.buildBodyReader)(n.from(e.body,"base64"),e.headers)),e.tags||(e.tags=[]),t?.startsWith("tls-")&&(e.tlsMetadata?e.tlsMetadata=JSON.parse(e.tlsMetadata):e.tlsMetadata={})}t.MockttpAdminRequestBuilder=class{constructor(e){this.schema=e,this.getEndpointDataGetter=(e,t)=>async()=>{const r=(await e.sendQuery({query:i.default`
                    query GetEndpointData($id: ID!) {
                        mockedEndpoint(id: $id) {
                            seenRequests {
                                id,
                                protocol,
                                method,
                                url,
                                path,
                                hostname

                                ${this.schema.typeHasField("Request","rawHeaders")?"rawHeaders":"headers"}

                                body,
                                ${this.schema.asOptionalField("Request","timingEvents")}
                                ${this.schema.asOptionalField("Request","httpVersion")}
                            }
                            ${this.schema.asOptionalField("MockedEndpoint","isPending")}
                        }
                    }
                `,variables:{id:t}})).mockedEndpoint;return r?(r.seenRequests.forEach((e=>l(e))),r):null}}buildAddRequestRulesQuery(e,t,r){const n=(t?"Set":"Add")+"Rules",s=(t?"set":"add")+"Rules",o=e.map((e=>{const t=(0,u.serializeRuleData)(e,r);return this.schema.typeHasInputField("MockRule","id")||delete t.id,t}));return{query:i.default`
                mutation ${n}($newRules: [MockRule!]!) {
                    endpoints: ${s}(input: $newRules) {
                        id,
                        ${this.schema.asOptionalField("MockedEndpoint","explanation")}
                    }
                }
            `,variables:{newRules:o},transformResponse:(e,{adminClient:t})=>e.endpoints.map((({id:e,explanation:r})=>new c.MockedEndpointClient(e,r,this.getEndpointDataGetter(t,e))))}}buildAddWebSocketRulesQuery(e,t,r){const n=(t?"Set":"Add")+"WebSocketRules",s=(t?"set":"add")+"WebSocketRules",o=e.map((e=>(0,u.serializeRuleData)(e,r)));return{query:i.default`
                mutation ${n}($newRules: [WebSocketMockRule!]!) {
                    endpoints: ${s}(input: $newRules) {
                        id,
                        explanation
                    }
                }
            `,variables:{newRules:o},transformResponse:(e,{adminClient:t})=>e.endpoints.map((({id:e,explanation:r})=>new c.MockedEndpointClient(e,r,this.getEndpointDataGetter(t,e))))}}buildMockedEndpointsQuery(){return{query:i.default`
                query GetAllEndpointData {
                    mockedEndpoints {
                        id,
                        ${this.schema.asOptionalField("MockedEndpoint","explanation")}
                    }
                }
            `,transformResponse:(e,{adminClient:t})=>e.mockedEndpoints.map((({id:e,explanation:r})=>new c.MockedEndpointClient(e,r,this.getEndpointDataGetter(t,e))))}}buildPendingEndpointsQuery(){return{query:i.default`
                query GetPendingEndpointData {
                    pendingEndpoints {
                        id,
                        explanation
                    }
                }
            `,transformResponse:(e,{adminClient:t})=>e.pendingEndpoints.map((({id:e,explanation:r})=>new c.MockedEndpointClient(e,r,this.getEndpointDataGetter(t,e))))}}buildSubscriptionRequest(e){const t={"request-initiated":i.default`subscription OnRequestInitiated {
                requestInitiated {
                    id
                    protocol
                    method
                    url
                    path
                    ${this.schema.asOptionalField("InitiatedRequest","remoteIpAddress")}
                    ${this.schema.asOptionalField("InitiatedRequest","remotePort")}
                    hostname

                    ${this.schema.typeHasField("InitiatedRequest","rawHeaders")?"rawHeaders":"headers"}
                    timingEvents
                    httpVersion
                    ${this.schema.asOptionalField("InitiatedRequest","tags")}
                }
            }`,request:i.default`subscription OnRequest {
                requestReceived {
                    id
                    ${this.schema.asOptionalField("Request","matchedRuleId")}
                    protocol
                    method
                    url
                    path
                    ${this.schema.asOptionalField("Request","remoteIpAddress")}
                    ${this.schema.asOptionalField("Request","remotePort")}
                    hostname

                    ${this.schema.typeHasField("Request","rawHeaders")?"rawHeaders":"headers"}

                    body
                    ${this.schema.asOptionalField("Request","rawTrailers")}

                    ${this.schema.asOptionalField("Request","timingEvents")}
                    ${this.schema.asOptionalField("Request","httpVersion")}
                    ${this.schema.asOptionalField("Request","tags")}
                }
            }`,response:i.default`subscription OnResponse {
                responseCompleted {
                    id
                    statusCode
                    statusMessage

                    ${this.schema.typeHasField("Response","rawHeaders")?"rawHeaders":"headers"}

                    body
                    ${this.schema.asOptionalField("Response","rawTrailers")}

                    ${this.schema.asOptionalField("Response","timingEvents")}
                    ${this.schema.asOptionalField("Response","tags")}
                }
            }`,"websocket-request":i.default`subscription OnWebSocketRequest {
                webSocketRequest {
                    id
                    matchedRuleId
                    protocol
                    method
                    url
                    path
                    remoteIpAddress
                    remotePort
                    hostname

                    rawHeaders
                    body
                    ${this.schema.asOptionalField("Request","rawTrailers")}

                    timingEvents
                    httpVersion
                    tags
                }
            }`,"websocket-accepted":i.default`subscription OnWebSocketAccepted {
                webSocketAccepted {
                    id
                    statusCode
                    statusMessage

                    rawHeaders
                    body
                    ${this.schema.asOptionalField("Response","rawTrailers")}

                    timingEvents
                    tags
                }
            }`,"websocket-message-received":i.default`subscription OnWebSocketMessageReceived {
                webSocketMessageReceived {
                    streamId
                    direction
                    content
                    isBinary
                    eventTimestamp

                    timingEvents
                    tags
                }
            }`,"websocket-message-sent":i.default`subscription OnWebSocketMessageSent {
                webSocketMessageSent {
                    streamId
                    direction
                    content
                    isBinary
                    eventTimestamp

                    timingEvents
                    tags
                }
            }`,"websocket-close":i.default`subscription OnWebSocketClose {
                webSocketClose {
                    streamId

                    closeCode
                    closeReason

                    timingEvents
                    tags
                }
            }`,abort:i.default`subscription OnAbort {
                requestAborted {
                    id,
                    protocol,
                    method,
                    url,
                    path,
                    hostname,

                    ${this.schema.typeHasField("Request","rawHeaders")?"rawHeaders":"headers"}

                    ${this.schema.asOptionalField("Request","timingEvents")}
                    ${this.schema.asOptionalField("Request","tags")}
                    ${this.schema.asOptionalField("AbortedRequest","error")}
                }
            }`,"tls-passthrough-opened":i.default`subscription OnTlsPassthroughOpened {
                tlsPassthroughOpened {
                    id
                    upstreamPort

                    hostname
                    remoteIpAddress
                    remotePort
                    tags
                    timingEvents
                    ${this.schema.asOptionalField("TlsPassthroughEvent","tlsMetadata")}
                }
            }`,"tls-passthrough-closed":i.default`subscription OnTlsPassthroughClosed {
                tlsPassthroughClosed {
                    id
                    upstreamPort

                    hostname
                    remoteIpAddress
                    remotePort
                    tags
                    timingEvents
                    ${this.schema.asOptionalField("TlsPassthroughEvent","tlsMetadata")}
                }
            }`,"tls-client-error":i.default`subscription OnTlsClientError {
                failedTlsRequest {
                    failureCause
                    hostname
                    remoteIpAddress
                    ${this.schema.asOptionalField(["TlsHandshakeFailure","TlsRequest"],"remotePort")}
                    ${this.schema.asOptionalField(["TlsHandshakeFailure","TlsRequest"],"tags")}
                    ${this.schema.asOptionalField(["TlsHandshakeFailure","TlsRequest"],"timingEvents")}
                    ${this.schema.asOptionalField(["TlsHandshakeFailure","TlsRequest"],"tlsMetadata")}
                }
            }`,"client-error":i.default`subscription OnClientError {
                failedClientRequest {
                    errorCode
                    request {
                        id
                        timingEvents
                        tags
                        protocol
                        httpVersion
                        method
                        url
                        path

                        ${this.schema.typeHasField("ClientErrorRequest","rawHeaders")?"rawHeaders":"headers"}

                        ${this.schema.asOptionalField("ClientErrorRequest","remoteIpAddress")}
                        ${this.schema.asOptionalField("ClientErrorRequest","remotePort")}
                    }
                    response {
                        id
                        timingEvents
                        tags
                        statusCode
                        statusMessage

                        ${this.schema.typeHasField("Response","rawHeaders")?"rawHeaders":"headers"}

                        body
                        ${this.schema.asOptionalField("Response","rawTrailers")}
                    }
                }
            }`,"rule-event":i.default`subscription OnRuleEvent {
                ruleEvent {
                    requestId
                    ruleId
                    eventType
                    eventData
                }
            }`}[e];if(t)return{query:t,transformResponse:t=>{if("client-error"===e)t.request=s.mapValues(t.request,(e=>null===e?void 0:e)),l(t.request,e),t.response?l(t.response,e):t.response="aborted";else if("websocket-message-received"===e||"websocket-message-sent"===e)(r=t).timingEvents=JSON.parse(r.timingEvents),r.content=n.from(r.content,"base64");else if("abort"===e)l(t,e),t.error=t.error?JSON.parse(t.error):void 0;else if("rule-event"===e){const{eventData:e}=t;void 0!==e.rawBody&&(e.rawBody=n.from(e.rawBody,"base64"))}else l(t,e);var r;return t}}}}},62012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MockttpClient=void 0;const n=r(2543),s=r(27148),i=r(40903),o=r(39366);class a extends s.AbstractMockttp{constructor(e={}){super(n.defaults(e,{cors:!0})),this.reset=()=>this.adminClient.reset(),this.addRequestRules=async(...e)=>this._addRequestRules(e,!1),this.setRequestRules=async(...e)=>this._addRequestRules(e,!0),this.addWebSocketRules=async(...e)=>this._addWsRules(e,!1),this.setWebSocketRules=async(...e)=>this._addWsRules(e,!0),this._addRequestRules=async(e,t)=>{if(!this.requestBuilder)throw new Error("Cannot add rules before the server is started");const{adminStream:r}=this.adminClient;return this.adminClient.sendQuery(this.requestBuilder.buildAddRequestRulesQuery(e,t,r))},this._addWsRules=async(e,t)=>{if(!this.requestBuilder)throw new Error("Cannot add rules before the server is started");const{adminStream:r}=this.adminClient;return this.adminClient.sendQuery(this.requestBuilder.buildAddWebSocketRulesQuery(e,t,r))},this.mockServerOptions=e,this.adminClient=new i.AdminClient({adminServerUrl:e.adminServerUrl,requestOptions:e.client})}enableDebug(){return this.adminClient.enableDebug()}get url(){return this.adminClient.metadata.http.mockRoot}get port(){return this.adminClient.metadata.http.port}async start(e){await this.adminClient.start({http:{port:e,options:this.mockServerOptions}}),this.requestBuilder=new o.MockttpAdminRequestBuilder(this.adminClient.schema)}stop(){return this.adminClient.stop()}async getMockedEndpoints(){if(!this.requestBuilder)throw new Error("Cannot query mocked endpoints before the server is started");return this.adminClient.sendQuery(this.requestBuilder.buildMockedEndpointsQuery())}async getPendingEndpoints(){if(!this.requestBuilder)throw new Error("Cannot query pending endpoints before the server is started");return this.adminClient.sendQuery(this.requestBuilder.buildPendingEndpointsQuery())}async getRuleParameterKeys(){return this.adminClient.getRuleParameterKeys()}on(e,t){if(e.startsWith("admin-client:"))return this.adminClient.on(e.slice(13),t),Promise.resolve();if(!this.requestBuilder)throw new Error("Cannot subscribe to Mockttp events before the server is started");const r=this.requestBuilder.buildSubscriptionRequest(e);return r?this.adminClient.subscribe(r,t):(console.warn(`Ignoring subscription for event unrecognized by Mockttp client: ${e}`),Promise.resolve())}}t.MockttpClient=a},83595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionQuery=t.SchemaIntrospector=void 0;const n=r(2543);t.SchemaIntrospector=class{constructor(e){this.adminServerSchema=e}queryTypeDefined(e){return this.typeHasField("Query",e)}isTypeDefined(e){return n.some(this.adminServerSchema.types,{name:e})}typeHasField(e,t){const r=n.find(this.adminServerSchema.types,{name:e});return!!r&&!!n.find(r.fields,{name:t})}asOptionalField(e,t){const r=(Array.isArray(e)?e:[e]).find((e=>this.isTypeDefined(e)));return r&&this.typeHasField(r,t)?t:""}typeHasInputField(e,t){const r=n.find(this.adminServerSchema.types,{name:e});return!!r&&!!n.find(r.inputFields,{name:t})}},t.introspectionQuery="\n  query IntrospectionQuery {\n    __schema {\n      queryType { name }\n      mutationType { name }\n      subscriptionType { name }\n      types {\n        ...FullType\n      }\n      directives {\n        name\n        locations\n        args {\n          ...InputValue\n        }\n      }\n    }\n  }\n\n  fragment FullType on __Type {\n    kind\n    name\n    fields(includeDeprecated: true) {\n      name\n      args {\n        ...InputValue\n      }\n      type {\n        ...TypeRef\n      }\n      isDeprecated\n      deprecationReason\n    }\n    inputFields {\n      ...InputValue\n    }\n    interfaces {\n      ...TypeRef\n    }\n    enumValues(includeDeprecated: true) {\n      name\n      isDeprecated\n      deprecationReason\n    }\n    possibleTypes {\n      ...TypeRef\n    }\n  }\n\n  fragment InputValue on __InputValue {\n    name\n    type { ...TypeRef }\n    defaultValue\n  }\n\n  fragment TypeRef on __Type {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"},88483:(e,t,r)=>{"use strict";t.MockttpPluggableAdmin=t.PluggableAdmin=t.hY=t.zO=t.GP=t.S6=t.yN=t.IT=void 0;r(62012);var n=r(33007);Object.defineProperty(t,"IT",{enumerable:!0,get:function(){return n.Method}});const s=r(82691);t.yN=s;const i=r(64998);t.S6=i;const o=r(89230);t.GP=o;const a=r(21247);t.zO=a,i.SimpleHandlerDefinition,i.CallbackHandlerDefinition,i.StreamHandlerDefinition,i.FileHandlerDefinition,i.PassThroughHandlerDefinition,i.CloseConnectionHandlerDefinition,i.TimeoutHandlerDefinition,i.HandlerDefinitionLookup,o.PassThroughWebSocketHandlerDefinition,o.CloseConnectionHandlerDefinition,o.TimeoutHandlerDefinition,o.WsHandlerDefinitionLookup;var c=r(28111);Object.defineProperty(t,"hY",{enumerable:!0,get:function(){return c.MOCKTTP_PARAM_REF}});r(40903);t.PluggableAdmin=r(56894),t.MockttpPluggableAdmin=r(76881)},27148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMockttp=void 0;const n=r(68309),s=r(88753),i=r(37129),o=r(33007);t.AbstractMockttp=class{constructor(e){this.addRequestRule=e=>this.addRequestRules(e).then((e=>e[0])),this.addWebSocketRule=e=>this.addWebSocketRules(e).then((e=>e[0])),this.debug=e.debug||!1,this.corsOptions=e.cors||!1,this.recordTraffic=void 0===e.recordTraffic||e.recordTraffic,this.suggestChanges=void 0===e.suggestChanges||e.suggestChanges}get proxyEnv(){return{HTTP_PROXY:this.url,HTTPS_PROXY:this.url}}urlFor(e){return this.url+e}forAnyRequest(){return new s.RequestRuleBuilder(this.addRequestRule)}forUnmatchedRequest(){return new s.RequestRuleBuilder(this.addRequestRule).asPriority(o.RulePriority.FALLBACK)}forGet(e){return new s.RequestRuleBuilder(o.Method.GET,e,this.addRequestRule)}forPost(e){return new s.RequestRuleBuilder(o.Method.POST,e,this.addRequestRule)}forPut(e){return new s.RequestRuleBuilder(o.Method.PUT,e,this.addRequestRule)}forDelete(e){return new s.RequestRuleBuilder(o.Method.DELETE,e,this.addRequestRule)}forPatch(e){return new s.RequestRuleBuilder(o.Method.PATCH,e,this.addRequestRule)}forHead(e){return new s.RequestRuleBuilder(o.Method.HEAD,e,this.addRequestRule)}forOptions(e){if(this.corsOptions)throw new Error(n.stripIndent`
                Cannot mock OPTIONS requests with CORS enabled.

                You can disable CORS by passing { cors: false } to getLocal/getRemote, but this may cause issues ${""}connecting to your mock server from browsers, unless you mock all required OPTIONS preflight ${""}responses by hand.
            `);return new s.RequestRuleBuilder(o.Method.OPTIONS,e,this.addRequestRule)}forJsonRpcRequest(e={}){return new s.RequestRuleBuilder(this.addRequestRule).withJsonBodyIncluding({jsonrpc:"2.0",...e.method?{method:e.method}:{},...e.params?{params:e.params}:{}})}forAnyWebSocket(){return new i.WebSocketRuleBuilder(this.addWebSocketRule)}}},76881:(e,t,r)=>{"use strict";t.MockttpAdminRequestBuilder=void 0;var n=r(39366);Object.defineProperty(t,"MockttpAdminRequestBuilder",{enumerable:!0,get:function(){return n.MockttpAdminRequestBuilder}})},56894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Serialization=t.AdminClient=t.AdminServer=void 0,t.AdminServer=class{constructor(){throw new Error("AdminServer cannot be used within a browser")}};var n=r(40903);Object.defineProperty(t,"AdminClient",{enumerable:!0,get:function(){return n.AdminClient}}),t.Serialization=r(34293)},11126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRuleBuilder=void 0;const n=r(2543),s=r(33007),i=r(21247),o=r(82691);t.BaseRuleBuilder=class{constructor(){this.matchers=[],this.priority=s.RulePriority.DEFAULT}buildBaseRuleData(){return{priority:this.priority,matchers:this.matchers,completionChecker:this.completionChecker}}asPriority(e){return this.priority=e,this}forHost(e){return this.matchers.push(new o.HostMatcher(e)),this}forHostname(e){return this.matchers.push(new o.HostnameMatcher(e)),this}forPort(e){return this.matchers.push(new o.PortMatcher(e)),this}withHeaders(e){return this.matchers.push(new o.HeaderMatcher(e)),this}withQuery(e){return this.matchers.push(new o.QueryMatcher(e)),this}withExactQuery(e){return this.matchers.push(new o.ExactQueryMatcher(e)),this}withForm(e){return this.matchers.push(new o.FormDataMatcher(e)),this}withMultipartForm(...e){return this.matchers.push(new o.MultipartFormDataMatcher(e)),this}withBody(e){return this.matchers.push((0,n.isString)(e)?new o.RawBodyMatcher(e):new o.RegexBodyMatcher(e)),this}withBodyIncluding(e){return this.matchers.push(new o.RawBodyIncludesMatcher(e)),this}withJsonBody(e){return this.matchers.push(new o.JsonBodyMatcher(e)),this}withJsonBodyIncluding(e){return this.matchers.push(new o.JsonBodyFlexibleMatcher(e)),this}withCookie(e){return this.matchers.push(new o.CookieMatcher(e)),this}withProtocol(e){return this.matchers.push(new o.ProtocolMatcher(e)),this}withUrlMatching(e){return this.matchers.push(new o.RegexUrlMatcher(e)),this}matching(e){return this.matchers.push(new o.CallbackMatcher(e)),this}always(){return this.completionChecker=new i.Always,this}once(){return this.completionChecker=new i.Once,this}twice(){return this.completionChecker=new i.Twice,this}thrice(){return this.completionChecker=new i.Thrice,this}times(e){return this.completionChecker=new i.NTimes(e),this}}},21247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionCheckerLookup=t.NTimes=t.Thrice=t.Twice=t.Once=t.Always=void 0;const n=r(34293);class s extends n.Serializable{constructor(){super(...arguments),this.type="always"}isComplete(){return!1}explain(e){return u(e,1/0,"always")}}t.Always=s;class i extends n.Serializable{constructor(){super(...arguments),this.type="once"}isComplete(e){return e>=1}explain(e){return u(e,1,"once")}}t.Once=i;class o extends n.Serializable{constructor(){super(...arguments),this.type="twice"}isComplete(e){return e>=2}explain(e){return u(e,2,"twice")}}t.Twice=o;class a extends n.Serializable{constructor(){super(...arguments),this.type="thrice"}isComplete(e){return e>=3}explain(e){return u(e,3,"thrice")}}t.Thrice=a;class c extends n.Serializable{constructor(e){super(),this.count=e,this.type="times"}isComplete(e){return e>=this.count}explain(e){return u(e,this.count,`${this.count} times`)}}function u(e,t,r){return void 0===e?r:r+" "+(e<t?`(seen ${e})`:"(done)")}t.NTimes=c,t.CompletionCheckerLookup={always:s,once:i,twice:o,thrice:a,times:c}},82691:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MatcherLookup=t.CallbackMatcher=t.CookieMatcher=t.JsonBodyFlexibleMatcher=t.JsonBodyMatcher=t.RegexBodyMatcher=t.RawBodyIncludesMatcher=t.RawBodyMatcher=t.MultipartFormDataMatcher=t.FormDataMatcher=t.QueryMatcher=t.ExactQueryMatcher=t.HeaderMatcher=t.RegexUrlMatcher=t.RegexPathMatcher=t.SimplePathMatcher=t.PortMatcher=t.HostnameMatcher=t.HostMatcher=t.ProtocolMatcher=t.MethodMatcher=t.WildcardMatcher=void 0,t.matchesAll=async function(e,t){return new Promise(((r,n)=>{const i=t.map((t=>t.matches(e)));i.forEach((async e=>{try{await e||r(!1)}catch(e){n(e)}})),Promise.all(i).then((e=>r(s.every(e)))).catch((e=>n(e)))}))},t.explainMatchers=function(e){return 1===e.length?e[0].explain():2===e.length?`${e[0].explain()} ${e[1].explain()}`:e.slice(0,-1).map((e=>e.explain())).join(", ")+", and "+e.slice(-1)[0].explain()};const s=r(2543),i=r(88835),o=r(68309),a=r(26605),c=r(33007),u=r(3202),l=r(83634),d=r(34293),h=r(22476);function p(e){return e.replace(/\\\//g,"/")}class f extends d.Serializable{constructor(){super(...arguments),this.type="wildcard"}matches(){return!0}explain(){return"for anything"}}t.WildcardMatcher=f;class m extends d.Serializable{constructor(e){super(),this.method=e,this.type="method"}matches(e){return e.method===c.Method[this.method]}explain(){return`making ${c.Method[this.method]}s`}}t.MethodMatcher=m;class y extends d.Serializable{constructor(e){if(super(),this.protocol=e,this.type="protocol","http"!==e&&"https"!==e&&"ws"!==e&&"wss"!==e)throw new Error("Invalid protocol: protocol can only be 'http', 'https', 'ws' or 'wss'")}matches(e){return e.protocol===this.protocol}explain(){return`for protocol ${this.protocol}`}}t.ProtocolMatcher=y;class g extends d.Serializable{constructor(e){if(super(),this.host=e,this.type="host",e.includes("/"))throw new Error("Invalid hostname: hostnames can't contain slashes");if(e.includes("?"))throw new Error("Invalid hostname: hostnames can't contain query strings");if(!e.match(/^([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+(:\d+)?$/))throw new Error("Hostname is invalid")}matches(e){const t=new i.URL(e.url);return this.host.endsWith(":80")&&"http"===e.protocol||this.host.endsWith(":443")&&"https"===e.protocol?t.hostname===this.host.split(":")[0]&&""===t.port:t.host===this.host}explain(){return`for host ${this.host}`}}t.HostMatcher=g;class w extends d.Serializable{constructor(e){if(super(),this.hostname=e,this.type="hostname",e.includes("/"))throw new Error("Invalid hostname: hostnames can't contain slashes");if(e.includes("?"))throw new Error("Invalid hostname: hostnames can't contain query strings");if(!e.match(/^([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+$/))throw new Error("Hostname is invalid")}matches(e){return new i.URL(e.url).hostname===this.hostname}explain(){return`for hostname ${this.hostname}`}}t.HostnameMatcher=w;class b extends d.Serializable{constructor(e){super(),this.type="port",this.port=e.toString()}matches(e){const t=new i.URL(e.url);return"80"===this.port&&"http"===e.protocol||"443"===this.port&&"https"===e.protocol?""===t.port:new i.URL(e.url).port===this.port}explain(){return`for port ${this.port}`}}t.PortMatcher=b;class R extends d.Serializable{constructor(e){if(super(),this.path=e,this.type="simple-path",!this.path)throw new Error("Invalid URL: URL to match must not be empty");let{search:t,query:r}=i.parse(this.path,!0);if(t)throw new Error(o.oneLine`
                Tried to match a path that contained a query (${t}).
                To match query parameters, use .withQuery(${JSON.stringify(r)}) instead,
                or .withExactQuery('${t}') to match this exact query string.
            `);(0,u.normalizeUrl)(this.path)}matches(e){const t=(0,u.normalizeUrl)(this.path),r=(0,u.normalizeUrl)(e.url);return(0,u.isRelativeUrl)(t)?(0,u.getPathFromAbsoluteUrl)(r)===t:(0,u.isAbsoluteUrl)(t)?r===t:(0,u.getUrlWithoutProtocol)(r)===t}explain(){return`for ${this.path}`}}t.SimplePathMatcher=R;class v extends d.Serializable{constructor(e){super(),this.type="regex-path",this.regexSource=e.source,this.regexFlags=e.flags}matches(e){const t=(0,u.normalizeUrl)(e.url),r=(0,u.getPathFromAbsoluteUrl)(t),n=new RegExp(this.regexSource,this.regexFlags);return n.test(t)||n.test(r)}explain(){return`matching /${p(this.regexSource)}/${this.regexFlags??""}`}}t.RegexPathMatcher=v;class S extends d.Serializable{constructor(e){super(),this.type="regex-url",this.regexSource=e.source,this.regexFlags=e.flags}matches(e){const t=(0,u.normalizeUrl)(e.url);return new RegExp(this.regexSource,this.regexFlags).test(t)}explain(){return`matching URL /${p(this.regexSource)}/${this.regexFlags??""}`}}t.RegexUrlMatcher=S;class C extends d.Serializable{constructor(e){super(),this.type="header",this.headers=s.mapKeys(e,((e,t)=>t.toLowerCase()))}matches(e){return s.isMatch(e.headers,this.headers)}explain(){return`with headers including ${JSON.stringify(this.headers)}`}}t.HeaderMatcher=C;class T extends d.Serializable{constructor(e){if(super(),this.query=e,this.type="exact-query-string",""!==e&&"?"!==e[0])throw new Error("Exact query matches must start with ?, or be empty")}matches(e){const{search:t}=i.parse(e.url);return this.query===t||!t&&!this.query}explain(){return this.query?`with a query exactly matching \`${this.query}\``:"with no query string"}}t.ExactQueryMatcher=T;class E extends d.Serializable{constructor(e){super(),this.type="query",this.queryObject=s.mapValues(e,(e=>Array.isArray(e)?e.map((e=>e.toString())):e.toString()))}matches(e){let{query:t}=i.parse(e.url,!0);return s.isMatch(t,this.queryObject)}explain(){return`with a query including ${JSON.stringify(this.queryObject)}`}}t.QueryMatcher=E;class O extends d.Serializable{constructor(e){super(),this.formData=e,this.type="form-data"}async matches(e){const t=e.headers["content-type"];return!!t&&-1!==t.indexOf("application/x-www-form-urlencoded")&&s.isMatch(await e.body.asFormData(),this.formData)}explain(){return`with form data including ${JSON.stringify(this.formData)}`}}t.FormDataMatcher=O;class k extends d.Serializable{constructor(e){super(),this.matchConditions=e,this.type="multipart-form-data"}async matches(e){const t=e.headers["content-type"];if(!t)return!1;if(!t.includes("multipart/form-data"))return!1;const r=t.match(/;\s*boundary=(\S+)/);if(!r)return!1;const s=a.parse(await e.body.asDecodedBuffer(),r[1]);return this.matchConditions.every((e=>{const t=e.content?n.from(e.content):void 0;return s.some((r=>(t?.equals(r.data)||void 0===t)&&(e.filename===r.filename||void 0===e.filename)&&(e.name===r.name||void 0===e.name)))}))}explain(){return`with multipart form data matching ${JSON.stringify(this.matchConditions)}`}}t.MultipartFormDataMatcher=k;class M extends d.Serializable{constructor(e){super(),this.content=e,this.type="raw-body"}async matches(e){return await e.body.asText()===this.content}explain(){return`with body '${this.content}'`}}t.RawBodyMatcher=M;class A extends d.Serializable{constructor(e){super(),this.content=e,this.type="raw-body-includes"}async matches(e){return(await e.body.asText()).includes(this.content)}explain(){return`with a body including '${this.content}'`}}t.RawBodyIncludesMatcher=A;class H extends d.Serializable{constructor(e){super(),this.type="raw-body-regexp",this.regexString=e.source}async matches(e){return new RegExp(this.regexString).test(await e.body.asText())}explain(){return`with a body matching /${p(this.regexString)}/`}}t.RegexBodyMatcher=H;class q extends d.Serializable{constructor(e){super(),this.body=e,this.type="json-body"}async matches(e){const t=await e.body.asJson().catch((()=>{}));return void 0!==t&&s.isEqual(t,this.body)}explain(){return`with a JSON body equivalent to ${JSON.stringify(this.body)}`}}t.JsonBodyMatcher=q;class P extends d.Serializable{constructor(e){super(),this.body=e,this.type="json-body-matching"}async matches(e){const t=await e.body.asJson().catch((()=>{}));return void 0!==t&&s.isMatch(t,this.body)}explain(){return`with a JSON body including ${JSON.stringify(this.body)}`}}t.JsonBodyFlexibleMatcher=P;class x extends d.Serializable{constructor(e){super(),this.cookie=e,this.type="cookie"}async matches(e){return!(!e.headers||!e.headers.cookie)&&e.headers.cookie.split(";").map((e=>{const[t,r]=e.split("=");return{[t.trim()]:(r||"").trim()}})).some((e=>s.isEqual(e,this.cookie)))}explain(){return`with cookies including ${JSON.stringify(this.cookie)}`}}t.CookieMatcher=x;class _ extends d.Serializable{constructor(e){super(),this.callback=e,this.type="callback"}async matches(e){const t=await(0,l.waitForCompletedRequest)(e);return this.callback(t)}explain(){return"matches using provided callback"+(this.callback.name?` (${this.callback.name})`:"")}serialize(e){return e.onRequest((async e=>{const t=(0,h.withDeserializedBodyReader)(e);return await this.callback.call(null,t)})),{type:this.type,name:this.callback.name,version:1}}static deserialize({name:e},t){const r=async e=>t.request((0,h.withSerializedBodyReader)(e));return Object.defineProperty(r,"name",{value:e}),new _(r)}}t.CallbackMatcher=_,t.MatcherLookup={wildcard:f,method:m,protocol:y,host:g,hostname:w,port:b,"simple-path":R,"regex-path":v,"regex-url":S,header:C,query:E,"exact-query-string":T,"form-data":O,"multipart-form-data":k,"raw-body":M,"raw-body-regexp":H,"raw-body-includes":A,"json-body":q,"json-body-matching":P,cookie:x,callback:_}},64998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerDefinitionLookup=t.JsonRpcResponseHandlerDefinition=t.TimeoutHandlerDefinition=t.ResetConnectionHandlerDefinition=t.CloseConnectionHandlerDefinition=t.PassThroughHandlerDefinition=t.SERIALIZED_OMIT=t.FileHandlerDefinition=t.StreamHandlerDefinition=t.CallbackHandlerDefinition=t.SimpleHandlerDefinition=void 0;const n=r(2543),s=r(88835),i=r(38967),o=r(88310),a=r(68309),c=r(24221),u=r(83634),l=r(48121),d=r(34293),h=r(22476);function p(e,t,r=[]){if(!t)return;const s=n(t).pickBy(((t,n)=>n.toString().startsWith(":")&&t!==e[n]&&!r.includes(n))).keys();if(s.size()>0)throw new Error(`Cannot set custom ${s.join(", ")} pseudoheader values`)}class f extends d.Serializable{constructor(e,t,r,s,i){if(super(),this.status=e,this.statusMessage=t,this.data=r,this.headers=s,this.trailers=i,this.type="simple",p({},s),p({},i),!n.isEmpty(i)&&s&&!Object.entries(s).some((([e,t])=>"transfer-encoding"===e.toLowerCase()&&"chunked"===t)))throw new Error("Trailers can only be set when using chunked transfer encoding")}explain(){return`respond with status ${this.status}`+(this.statusMessage?` (${this.statusMessage})`:"")+(this.headers?`, headers ${JSON.stringify(this.headers)}`:"")+(this.data?` and body "${this.data}"`:"")+(this.trailers?`then trailers ${JSON.stringify(this.trailers)}`:"")}}t.SimpleHandlerDefinition=f;class m extends d.Serializable{constructor(e){super(),this.callback=e,this.type="callback"}explain(){return"respond using provided callback"+(this.callback.name?` (${this.callback.name})`:"")}serialize(e){return e.onRequest((async e=>{const t=n.isString(e.args[0].body)?(0,h.withDeserializedBodyReader)(e.args[0]):{...e.args[0],body:(0,u.buildBodyReader)(e.args[0].body.buffer,e.args[0].headers)},r=await this.callback.call(null,t);return"string"==typeof r?r:(0,h.withSerializedCallbackBuffers)(r)})),{type:this.type,name:this.callback.name,version:2}}}t.CallbackHandlerDefinition=m;class y extends d.Serializable{constructor(e,t,r){super(),this.status=e,this.stream=t,this.headers=r,this.type="stream",p({},r)}explain(){return`respond with status ${this.status}`+(this.headers?`, headers ${JSON.stringify(this.headers)},`:"")+" and a stream of response data"}serialize(e){const t=new o.Transform({objectMode:!0,transform:function(e,t,r){let s=n.isString(e)?{type:"string",value:e}:n.isBuffer(e)?{type:"buffer",value:e.toString("base64")}:n.isArrayBuffer(e)||n.isTypedArray(e)?{type:"arraybuffer",value:(0,i.encode)(e)}:n.isNil(e)&&{type:"nil"};s||r(new Error(`Can't serialize streamed value: ${e.toString()}. Streaming must output strings, buffers or array buffers`)),r(void 0,{event:"data",content:s})},flush:function(e){this.push({event:"end"}),e()}});return e.once("data",(()=>{this.stream.pipe(t).pipe(e,{end:!1})})),{type:this.type,status:this.status,headers:this.headers}}}t.StreamHandlerDefinition=y;class g extends d.Serializable{constructor(e,t,r,n){super(),this.status=e,this.statusMessage=t,this.filePath=r,this.headers=n,this.type="file",p({},n)}explain(){return`respond with status ${this.status}`+(this.statusMessage?` (${this.statusMessage})`:"")+(this.headers?`, headers ${JSON.stringify(this.headers)}`:"")+(this.filePath?` and body from file ${this.filePath}`:"")}}t.FileHandlerDefinition=g,t.SERIALIZED_OMIT="__mockttp__transform__omit__";class w extends d.Serializable{constructor(e={}){super(),this.type="passthrough",this.ignoreHostHttpsErrors=[],this.extraCACertificates=[],this.outgoingSockets=new Set;const{forwarding:t}=e;if(t&&t.targetHost.includes("/")){const{protocol:e,hostname:r,port:n,path:i}=s.parse(t.targetHost);if(i&&"/"!==i.trim()){const i=s.format({protocol:e,hostname:r,port:n})||t.targetHost.slice(0,t.targetHost.indexOf("/"));throw new Error(a.stripIndent`
                    URLs for forwarding cannot include a path, but "${t.targetHost}" does. ${""}Did you mean ${i}?
                `)}}if(this.forwarding=t,this.ignoreHostHttpsErrors=e.ignoreHostHttpsErrors||[],!Array.isArray(this.ignoreHostHttpsErrors)&&"boolean"!=typeof this.ignoreHostHttpsErrors)throw new Error("ignoreHostHttpsErrors must be an array or a boolean");if(this.lookupOptions=e.lookupOptions,this.proxyConfig=e.proxyConfig,this.simulateConnectionErrors=!!e.simulateConnectionErrors,this.extraCACertificates=e.additionalTrustedCAs||e.trustAdditionalCAs||[],this.clientCertificateHostMap=e.clientCertificateHostMap||{},e.beforeRequest&&e.transformRequest&&!n.isEmpty(e.transformRequest))throw new Error("BeforeRequest and transformRequest options are mutually exclusive");if(e.beforeRequest)this.beforeRequest=e.beforeRequest;else if(e.transformRequest){if([e.transformRequest.updateHeaders,e.transformRequest.replaceHeaders].filter((e=>!!e)).length>1)throw new Error("Only one request header transform can be specified at a time");if([e.transformRequest.replaceBody,e.transformRequest.replaceBodyFromFile,e.transformRequest.updateJsonBody,e.transformRequest.patchJsonBody,e.transformRequest.matchReplaceBody].filter((e=>!!e)).length>1)throw new Error("Only one request body transform can be specified at a time");if(e.transformRequest.patchJsonBody){const t=(0,c.validate)(e.transformRequest.patchJsonBody);if(t)throw t}this.transformRequest=e.transformRequest}if(e.beforeResponse&&e.transformResponse&&!n.isEmpty(e.transformResponse))throw new Error("BeforeResponse and transformResponse options are mutually exclusive");if(e.beforeResponse)this.beforeResponse=e.beforeResponse;else if(e.transformResponse){if([e.transformResponse.updateHeaders,e.transformResponse.replaceHeaders].filter((e=>!!e)).length>1)throw new Error("Only one response header transform can be specified at a time");if([e.transformResponse.replaceBody,e.transformResponse.replaceBodyFromFile,e.transformResponse.updateJsonBody,e.transformResponse.patchJsonBody,e.transformResponse.matchReplaceBody].filter((e=>!!e)).length>1)throw new Error("Only one response body transform can be specified at a time");if(e.transformResponse.patchJsonBody){const t=(0,c.validate)(e.transformResponse.patchJsonBody);if(t)throw t}this.transformResponse=e.transformResponse}}explain(){return this.forwarding?`forward the request to ${this.forwarding.targetHost}`:"pass the request through to the target host"}serialize(e){return this.beforeRequest&&e.onRequest("beforeRequest",(async e=>{const t=await this.beforeRequest((0,h.withDeserializedBodyReader)(e.args[0])),r=t?(0,h.withSerializedCallbackBuffers)(t):void 0;return r?.response&&"string"!=typeof r?.response&&(r.response=(0,h.withSerializedCallbackBuffers)(r.response)),r})),this.beforeResponse&&e.onRequest("beforeResponse",(async e=>{const t=await this.beforeResponse((0,h.withDeserializedBodyReader)(e.args[0]));return"string"==typeof t?t:t?(0,h.withSerializedCallbackBuffers)(t):void 0})),{type:this.type,...this.forwarding?{forwarding:this.forwarding,forwardToLocation:this.forwarding.targetHost}:{},proxyConfig:(0,d.serializeProxyConfig)(this.proxyConfig,e),lookupOptions:this.lookupOptions,simulateConnectionErrors:this.simulateConnectionErrors,ignoreHostCertificateErrors:this.ignoreHostHttpsErrors,extraCACertificates:this.extraCACertificates.map((e=>"cert"in e?{cert:e.cert.toString("utf8")}:e)),clientCertificateHostMap:n.mapValues(this.clientCertificateHostMap,(({pfx:e,passphrase:t})=>({pfx:(0,d.serializeBuffer)(e),passphrase:t}))),transformRequest:this.transformRequest?{...this.transformRequest,replaceBody:this.transformRequest?.replaceBody?(0,d.serializeBuffer)((0,l.asBuffer)(this.transformRequest.replaceBody)):void 0,updateHeaders:this.transformRequest?.updateHeaders?JSON.stringify(this.transformRequest.updateHeaders,((e,r)=>void 0===r?t.SERIALIZED_OMIT:r)):void 0,updateJsonBody:this.transformRequest?.updateJsonBody?JSON.stringify(this.transformRequest.updateJsonBody,((e,r)=>void 0===r?t.SERIALIZED_OMIT:r)):void 0,matchReplaceBody:this.transformRequest?.matchReplaceBody?this.transformRequest.matchReplaceBody.map((([e,t])=>[n.isRegExp(e)?{regexSource:e.source,flags:e.flags}:e,t])):void 0}:void 0,transformResponse:this.transformResponse?{...this.transformResponse,replaceBody:this.transformResponse?.replaceBody?(0,d.serializeBuffer)((0,l.asBuffer)(this.transformResponse.replaceBody)):void 0,updateHeaders:this.transformResponse?.updateHeaders?JSON.stringify(this.transformResponse.updateHeaders,((e,r)=>void 0===r?t.SERIALIZED_OMIT:r)):void 0,updateJsonBody:this.transformResponse?.updateJsonBody?JSON.stringify(this.transformResponse.updateJsonBody,((e,r)=>void 0===r?t.SERIALIZED_OMIT:r)):void 0,matchReplaceBody:this.transformResponse?.matchReplaceBody?this.transformResponse.matchReplaceBody.map((([e,t])=>[n.isRegExp(e)?{regexSource:e.source,flags:e.flags}:e,t])):void 0}:void 0,hasBeforeRequestCallback:!!this.beforeRequest,hasBeforeResponseCallback:!!this.beforeResponse}}}t.PassThroughHandlerDefinition=w;class b extends d.Serializable{constructor(){super(...arguments),this.type="close-connection"}explain(){return"close the connection"}}t.CloseConnectionHandlerDefinition=b;class R extends d.Serializable{constructor(){super(...arguments),this.type="reset-connection"}explain(){return"reset the connection"}}t.ResetConnectionHandlerDefinition=R;class v extends d.Serializable{constructor(){super(...arguments),this.type="timeout"}explain(){return"time out (never respond)"}}t.TimeoutHandlerDefinition=v;class S extends d.Serializable{constructor(e){if(super(),this.result=e,this.type="json-rpc-response",!("result"in e)&&!("error"in e))throw new Error("JSON-RPC response must be either a result or an error")}explain(){const e="result"in this.result?"result":"error";return`send a fixed JSON-RPC ${e} of ${JSON.stringify(this.result[e])}`}}t.JsonRpcResponseHandlerDefinition=S,t.HandlerDefinitionLookup={simple:f,callback:m,stream:y,file:g,passthrough:w,"close-connection":b,"reset-connection":R,timeout:v,"json-rpc-response":S}},88753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestRuleBuilder=void 0;const n=r(2543),s=r(64998),i=r(66939),o=r(11126),a=r(82691);class c extends o.BaseRuleBuilder{constructor(e,t,r){super();const n=e instanceof Function?void 0:e;void 0===n&&void 0===t?this.matchers.push(new a.WildcardMatcher):(void 0!==n&&this.matchers.push(new a.MethodMatcher(n)),t instanceof RegExp?this.matchers.push(new a.RegexPathMatcher(t)):"string"==typeof t&&this.matchers.push(new a.SimplePathMatcher(t))),this.addRule=e instanceof Function?e:r}thenReply(e,t,r,i,o){let a,c,u;(0,n.isBuffer)(r)||(0,n.isString)(r)?(a=r,c=t,u=i):(a=t,u=r,o=i);const l={...this.buildBaseRuleData(),handler:new s.SimpleHandlerDefinition(e,c,a,u,o)};return this.addRule(l)}thenJson(e,t,r={}){const o=JSON.stringify(t);r=(0,n.merge)({"Content-Type":"application/json","Content-Length":(0,i.byteLength)(o).toString(),Connection:"keep-alive"},r);const a={...this.buildBaseRuleData(),handler:new s.SimpleHandlerDefinition(e,void 0,o,r)};return this.addRule(a)}thenCallback(e){const t={...this.buildBaseRuleData(),handler:new s.CallbackHandlerDefinition(e)};return this.addRule(t)}thenStream(e,t,r){const n={...this.buildBaseRuleData(),handler:new s.StreamHandlerDefinition(e,t,r)};return this.addRule(n)}thenFromFile(e,t,r,i){let o,a;(0,n.isString)(r)?(o=r,a=t):(o=t,i=r);const c={...this.buildBaseRuleData(),handler:new s.FileHandlerDefinition(e,a,o,i)};return this.addRule(c)}thenPassThrough(e){const t={...this.buildBaseRuleData(),handler:new s.PassThroughHandlerDefinition(e)};return this.addRule(t)}async thenForwardTo(e,t={}){const r={...this.buildBaseRuleData(),handler:new s.PassThroughHandlerDefinition({...t,forwarding:{...t.forwarding,targetHost:e}})};return this.addRule(r)}thenCloseConnection(){const e={...this.buildBaseRuleData(),handler:new s.CloseConnectionHandlerDefinition};return this.addRule(e)}thenResetConnection(){const e={...this.buildBaseRuleData(),handler:new s.ResetConnectionHandlerDefinition};return this.addRule(e)}thenTimeout(){const e={...this.buildBaseRuleData(),handler:new s.TimeoutHandlerDefinition};return this.addRule(e)}thenSendJsonRpcResult(e){const t={...this.buildBaseRuleData(),handler:new s.JsonRpcResponseHandlerDefinition({result:e})};return this.addRule(t)}thenSendJsonRpcError(e){const t={...this.buildBaseRuleData(),handler:new s.JsonRpcResponseHandlerDefinition({error:e})};return this.addRule(t)}}t.RequestRuleBuilder=c},28111:(e,t)=>{"use strict";function r(e){return e&&!!e[t.MOCKTTP_PARAM_REF]}Object.defineProperty(t,"__esModule",{value:!0}),t.MOCKTTP_PARAM_REF=void 0,t.isParamReference=r,t.dereferenceParam=function(e,r){const n=e[t.MOCKTTP_PARAM_REF];if(n in r)return r[n];throw new Error(`Invalid reference to undefined rule parameter '${n}'`)},t.assertParamDereferenced=function(e){if(r(e)){const r=e[t.MOCKTTP_PARAM_REF];throw new Error(`Non-dereferenced rule parameter used unexpectedly: ${r}`)}return e},t.MOCKTTP_PARAM_REF=Symbol("MOCKTTP_PARAM_REF")},82263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMockRuleData=s,t.serializeRuleData=function(e,t){return s(e),{id:e.id,priority:e.priority,matchers:e.matchers.map((e=>(0,n.serialize)(e,t))),handler:(0,n.serialize)(e.handler,t),completionChecker:e.completionChecker&&(0,n.serialize)(e.completionChecker,t)}};const n=r(34293);function s(e){if(!e.matchers||0===e.matchers.length)throw new Error("Cannot create a rule without at least one matcher");if(!e.handler)throw new Error("Cannot create a rule with no handler")}},89230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WsHandlerDefinitionLookup=t.TimeoutHandlerDefinition=t.ResetConnectionHandlerDefinition=t.CloseConnectionHandlerDefinition=t.RejectWebSocketHandlerDefinition=t.ListenWebSocketHandlerDefinition=t.EchoWebSocketHandlerDefinition=t.PassThroughWebSocketHandlerDefinition=void 0;const n=r(2543),s=r(88835),i=r(68309),o=r(34293),a=r(64998);Object.defineProperty(t,"CloseConnectionHandlerDefinition",{enumerable:!0,get:function(){return a.CloseConnectionHandlerDefinition}}),Object.defineProperty(t,"ResetConnectionHandlerDefinition",{enumerable:!0,get:function(){return a.ResetConnectionHandlerDefinition}}),Object.defineProperty(t,"TimeoutHandlerDefinition",{enumerable:!0,get:function(){return a.TimeoutHandlerDefinition}});class c extends o.Serializable{constructor(e={}){super(),this.type="ws-passthrough",this.ignoreHostHttpsErrors=[],this.extraCACertificates=[];const{forwarding:t}=e;if(t&&t.targetHost.includes("/")){const{protocol:e,hostname:r,port:n,path:o}=s.parse(t.targetHost);if(o&&"/"!==o.trim()){const o=s.format({protocol:e,hostname:r,port:n})||t.targetHost.slice(0,t.targetHost.indexOf("/"));throw new Error(i.stripIndent`
                    URLs for forwarding cannot include a path, but "${t.targetHost}" does. ${""}Did you mean ${o}?
                `)}}if(this.forwarding=e.forwarding,this.ignoreHostHttpsErrors=e.ignoreHostHttpsErrors||[],!Array.isArray(this.ignoreHostHttpsErrors)&&"boolean"!=typeof this.ignoreHostHttpsErrors)throw new Error("ignoreHostHttpsErrors must be an array or a boolean");this.lookupOptions=e.lookupOptions,this.proxyConfig=e.proxyConfig,this.extraCACertificates=e.additionalTrustedCAs||e.trustAdditionalCAs||[],this.clientCertificateHostMap=e.clientCertificateHostMap||{}}explain(){return this.forwarding?`forward the websocket to ${this.forwarding.targetHost}`:"pass the request through to the target host"}serialize(e){return{type:this.type,forwarding:this.forwarding,lookupOptions:this.lookupOptions,proxyConfig:(0,o.serializeProxyConfig)(this.proxyConfig,e),ignoreHostCertificateErrors:this.ignoreHostHttpsErrors,extraCACertificates:this.extraCACertificates.map((e=>"cert"in e?{cert:e.cert.toString("utf8")}:e)),clientCertificateHostMap:n.mapValues(this.clientCertificateHostMap,(({pfx:e,passphrase:t})=>({pfx:(0,o.serializeBuffer)(e),passphrase:t})))}}}t.PassThroughWebSocketHandlerDefinition=c;class u extends o.Serializable{constructor(){super(...arguments),this.type="ws-echo"}explain(){return"echo all websocket messages"}}t.EchoWebSocketHandlerDefinition=u;class l extends o.Serializable{constructor(){super(...arguments),this.type="ws-listen"}explain(){return"silently accept websocket messages without responding"}}t.ListenWebSocketHandlerDefinition=l;class d extends o.Serializable{constructor(e,t="WebSocket rejected",r={},n=""){super(),this.statusCode=e,this.statusMessage=t,this.headers=r,this.body=n,this.type="ws-reject"}explain(){return`explicitly reject the websocket upgrade with status ${this.statusCode}`}}t.RejectWebSocketHandlerDefinition=d,t.WsHandlerDefinitionLookup={"ws-passthrough":c,"ws-echo":u,"ws-listen":l,"ws-reject":d,"close-connection":a.CloseConnectionHandlerDefinition,"reset-connection":a.ResetConnectionHandlerDefinition,timeout:a.TimeoutHandlerDefinition}},37129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketRuleBuilder=void 0;const n=r(89230),s=r(11126),i=r(82691);class o extends s.BaseRuleBuilder{constructor(e){super(),this.addRule=e,this.matchers.push(new i.WildcardMatcher)}thenPassThrough(e={}){const t={...this.buildBaseRuleData(),handler:new n.PassThroughWebSocketHandlerDefinition(e)};return this.addRule(t)}async thenForwardTo(e,t={}){const r={...this.buildBaseRuleData(),handler:new n.PassThroughWebSocketHandlerDefinition({...t,forwarding:{...t.forwarding,targetHost:e}})};return this.addRule(r)}thenEcho(){const e={...this.buildBaseRuleData(),handler:new n.EchoWebSocketHandlerDefinition};return this.addRule(e)}thenPassivelyListen(){const e={...this.buildBaseRuleData(),handler:new n.ListenWebSocketHandlerDefinition};return this.addRule(e)}thenRejectConnection(e,t,r,s){const i={...this.buildBaseRuleData(),handler:new n.RejectWebSocketHandlerDefinition(e,t,r,s)};return this.addRule(i)}thenCloseConnection(){const e={...this.buildBaseRuleData(),handler:new n.CloseConnectionHandlerDefinition};return this.addRule(e)}thenResetConnection(){const e={...this.buildBaseRuleData(),handler:new n.ResetConnectionHandlerDefinition};return this.addRule(e)}thenTimeout(){const e={...this.buildBaseRuleData(),handler:new n.TimeoutHandlerDefinition};return this.addRule(e)}}t.WebSocketRuleBuilder=o},22476:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.withSerializedBodyReader=function(e){return{...e,body:(0,o.asBuffer)(e.body.buffer).toString("base64")}},t.withDeserializedBodyReader=function(e){return{...e,body:(0,a.buildBodyReader)((0,c.deserializeBuffer)(e.body),e.headers)}},t.withSerializedCallbackBuffers=function(e){let t;return e.body?s.isString(e.body)?t=(0,c.serializeBuffer)((0,o.asBuffer)(e.body)):s.isBuffer(e.body)?t=(0,c.serializeBuffer)(e.body):s.isArrayBuffer(e.body)||s.isTypedArray(e.body)?t=(0,i.encode)(e.body):(0,a.isMockttpBody)(e.body)&&(t=(0,c.serializeBuffer)((0,o.asBuffer)(e.body.buffer))):t=void 0,{...e,body:t,rawBody:e.rawBody?(0,c.serializeBuffer)((0,o.asBuffer)(e.rawBody)):void 0}},t.withDeserializedCallbackBuffers=function(e){return{...e,body:void 0!==e.body?n.from(e.body,"base64"):void 0,rawBody:void 0!==e.rawBody?n.from(e.rawBody,"base64"):void 0}};const s=r(2543),i=r(38967),o=r(48121),a=r(83634),c=r(34293)},34293:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientServerChannel=t.Serializable=void 0,t.serialize=function(e,t){const r=new u(t),n=e.serialize(r);return n.topicId=r.topicId,n},t.deserialize=function(e,t,r,n){const s=e.type,i=new u(t,e.topicId),o=n[s].deserialize(e,i,r),a=o.dispose;return o.dispose=()=>{a(),i.dispose()},o},t.serializeBuffer=function(e){return e.toString("base64")},t.deserializeBuffer=function(e){return n.from(e,"base64")},t.ensureParamsDeferenced=d,t.serializeProxyConfig=function e(t,r){if(s.isFunction(t)){const e=`proxyConfig-callback-${(0,o.v4)()}`;return r.onRequest(e,t),e}return s.isArray(t)?t.map((t=>e(t,r))):(0,a.isParamReference)(t)?{[l]:t[a.MOCKTTP_PARAM_REF]}:t?{...t,trustedCAs:t.trustedCAs?.map((e=>"string"!=typeof e&&"cert"in e?{cert:e.cert.toString("utf8")}:e)),additionalTrustedCAs:t.additionalTrustedCAs?.map((e=>"cert"in e?{cert:e.cert.toString("utf8")}:e))}:void 0},t.deserializeProxyConfig=function e(t,r,n){if(s.isString(t)){const e=t;return async t=>await r.request(e,t)}return s.isArray(t)?t.map((t=>e(t,r,n))):d(t,n)};const s=r(2543),i=r(88310),o=r(49542),a=r(28111);t.Serializable=class{serialize(e){return this}static deserialize(e,t,r){return s.create(this.prototype,e)}dispose(){}};const c={disposeChannel:!0};class u extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.rawStream=e,this._onRawStreamError=e=>{this.destroy(e)},this._onRawStreamFinish=()=>{this.end()},this._readFromRawStream=e=>{e.toString().split("\n").filter((e=>!!e)).forEach((e=>{let t;try{t=JSON.parse(e)}catch(t){return console.log(t),void console.log("Received unparseable message, dropping.",e.toString())}t.topicId===this.topicId&&(s.isEqual(s.omit(t,"topicId"),c)?this.dispose(!0):this.push(t))}))},this.reading=!1,this.topicId=t||(0,o.v4)(),this.rawStream.on("error",this._onRawStreamError),this.rawStream.on("finish",this._onRawStreamFinish)}_write(e,t,r){e.topicId=this.topicId;const n=JSON.stringify(e)+"\n";this.rawStream.write(n,t)?r():this.rawStream.once("drain",r)}_read(){this.reading||(this.rawStream.on("data",this._readFromRawStream),this.reading=!0)}request(e,t){let r,n;s.isString(e)?(r=e,n=t):n=e;const i=(0,o.v4)();return new Promise(((e,t)=>{const s=r=>{r.requestId===i&&(r.error?t(Object.assign(new Error,{stack:void 0},r.error)):e(r.data),this.removeListener("data",s))},o={data:n,requestId:i};r&&(o.action=r),this.write(o,(e=>{e?t(e):this.on("data",s)}))}))}onRequest(e,t){let r,n;s.isString(e)?(r=e,n=t):n=e,this.on("data",(async e=>{const{requestId:t,action:i}=e;if(void 0===r||i===r)try{const r={requestId:t,data:await n(e.data)};if(!this.writable)return;this.write(r)}catch(e){if(e=s.pick(e,Object.getOwnPropertyNames(e)),!this.writable)return;this.write({requestId:t,error:e})}}))}dispose(e=!1){this.on("error",(()=>{})),e?this.end():this.end(c),this.removeAllListeners("data"),this.rawStream.removeListener("data",this._readFromRawStream),this.rawStream.removeListener("error",this._onRawStreamError),this.rawStream.removeListener("finish",this._onRawStreamFinish)}}t.ClientServerChannel=u;const l="__mockttp__param__reference__";function d(e,t){if(function(e){return e&&l in e}(e)){const r={[a.MOCKTTP_PARAM_REF]:e[l]};return(0,a.dereferenceParam)(r,t)}return e}},33007:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.RulePriority=t.Method=t.DEFAULT_ADMIN_SERVER_PORT=void 0,t.DEFAULT_ADMIN_SERVER_PORT=45454,function(e){e[e.GET=0]="GET",e[e.POST=1]="POST",e[e.PUT=2]="PUT",e[e.DELETE=3]="DELETE",e[e.PATCH=4]="PATCH",e[e.HEAD=5]="HEAD",e[e.OPTIONS=6]="OPTIONS"}(r||(t.Method=r={})),function(e){e[e.FALLBACK=0]="FALLBACK",e[e.DEFAULT=1]="DEFAULT"}(n||(t.RulePriority=n={}))},48121:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.streamToBuffer=t.bufferToStream=t.bufferThenStream=t.asBuffer=void 0,t.splitBuffer=function(e,t,r=1/0){const n=[];let s=e;for(;s.length;){let e=s.indexOf(t);if(-1===e&&(e=s.length),n.push(s.slice(0,e)),s=s.slice(e+t.length),n.length===r-1){n.push(s);break}}return n};const s=r(37007),i=r(88310),o=r(66939).isNode?r(48287).constants.MAX_LENGTH:1/0;t.asBuffer=e=>n.isBuffer(e)?e:"string"==typeof e?n.from(e,"utf8"):n.from(e),t.bufferThenStream=(e,t)=>{let r=!1;const s=new i.PassThrough({read(o){return r||(e.failedWith?s.destroy(e.failedWith):(s.write(n.concat(e.currentChunks)),t.pipe(s),t.readableEnded&&s.end(),t.readableAborted&&s.destroy(),t.on("error",(e=>{s.emit("error",e)})),e.catch((()=>{}))),r=!0),i.Transform.prototype._read.call(this,o)}});return e.events.on("truncate",(e=>{r||s.read(0)})),s},t.bufferToStream=e=>{const t=new i.PassThrough;return t.end(e),t},t.streamToBuffer=(e,t=o)=>{let r=[];const i=new Promise(((s,o)=>{function a(){i.failedWith=new Error("Aborted"),o(i.failedWith)}if(e.readableEnded)return s(n.from([]));if(e.readableAborted)return a();let c=0;const u=o=>{c+=o.length,r.push(o),c>t&&(i.events.emit("truncate",r),i.currentChunks=r=[],e.removeListener("data",u),s(n.from([])))};e.on("data",u),e.once("end",(()=>{s(n.concat(r))})),e.once("aborted",a),e.on("error",(e=>{i.failedWith=i.failedWith||e,o(e)}))}));return i.currentChunks=r,i.events=new s.EventEmitter,i}},729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorLike=function(e){return"object"==typeof e&&(e instanceof Error||e.message||e.code||e.stack)}},73662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findRawHeaders=t.findRawHeaderIndex=t.findRawHeader=void 0,t.pairFlatRawHeaders=function(e){const t=[];for(let r=0;r<e.length;r+=2)t[r/2]=[e[r],e[r+1]];return t},t.flattenPairedRawHeaders=function(e){return e.flat()},t.rawHeadersToObject=function(e){return e.reduce(((e,[t,r])=>{const n=e[t=t.toLowerCase()];return Array.isArray(n)?n.push(r):e[t]=n?[n,r]:r,e}),{})},t.rawHeadersToObjectPreservingCase=function(e){const t={};return e.reduce(((e,[r,n])=>{const s=r.toLowerCase();t[s]?r=t[s]:t[s]=r;const i=e[r];return Array.isArray(i)?i.push(n):e[r]=i?[i,n]:n,e}),{})},t.objectHeadersToRaw=function(e){const t=[];for(let r in e){const n=e[r];void 0!==n&&(Array.isArray(n)?n.forEach((e=>t.push([r,e]))):t.push([r,n]))}return t},t.objectHeadersToFlat=function(e){const t=[];for(let r in e){const n=e[r];void 0!==n&&(Array.isArray(n)?n.forEach((e=>{t.push(r),t.push(e)})):(t.push(r),t.push(n)))}return t},t.h2HeadersToH1=function(e){let r=e.filter((([e])=>":"!==e[0]));!(0,t.findRawHeader)(r,"host")&&(0,t.findRawHeader)(e,":authority")&&r.unshift(["Host",(0,t.findRawHeader)(e,":authority")[1]]);const n=(0,t.findRawHeaders)(r,"cookie");return n.length>1&&(r=r.filter((([e])=>"cookie"!==e.toLowerCase())),r.push(["Cookie",n.join("; ")])),r},t.h1HeadersToH2=function(e){return e.filter((([e])=>!s.includes(e.toLowerCase())))},t.dropDefaultHeaders=function(e){["connection","content-length","transfer-encoding","date"].forEach((t=>e.removeHeader(t)))},t.validateHeader=function(e,t){try{return n.validateHeaderName(e),n.validateHeaderValue(e,t),!0}catch(e){return!1}};const n=r(80693);t.findRawHeader=(e,t)=>e.find((([e])=>e.toLowerCase()===t)),t.findRawHeaderIndex=(e,t)=>e.findIndex((([e])=>e.toLowerCase()===t)),t.findRawHeaders=(e,t)=>e.filter((([e])=>e.toLowerCase()===t));const s=["connection","upgrade","host","http2-settings","keep-alive","proxy-connection","transfer-encoding"]},35218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=async function(e,t){let r=await Promise.all(e.map(t));return e.filter(((e,t)=>r[t]))},t.objectAllPromise=async function(e){return n.zipObject(Object.keys(e),await Promise.all(Object.values(e)))},t.getDeferred=function(){let e,t,r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r};const n=r(2543)},83634:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.parseRequestBody=t.buildBodyReader=t.isMockttpBody=t.writeHead=t.shouldKeepAlive=void 0,t.isHttp2=f,t.encodeBodyBuffer=async function(e,t){const n=t["content-encoding"];return n?await(await Promise.resolve().then((()=>r(22214)))).encodeBuffer(e,n,{level:1}):e},t.decodeBodyBuffer=m,t.buildInitiatedRequest=b,t.waitForCompletedRequest=async function(e){const t=await w(e.body,e.headers);return{...b(e),body:t,rawTrailers:e.rawTrailers??[],trailers:(0,p.rawHeadersToObject)(e.rawTrailers??[])}},t.trackResponse=function(e,t,r,n){let s=e;s.timingEvents=t,s.tags=r;const i=new a.PassThrough,o=s.writeHead,c=s.write,u=s.end,d=s.addTrailers,h=s.getHeaders;let m,g;s.getRawHeaders=()=>m??[],s.getHeaders=()=>(0,p.rawHeadersToObject)(s.getRawHeaders()),s.writeHead=function(...e){let r;t.headersSentTimestamp||(t.headersSentTimestamp=l()),f(s)&&"string"==typeof e[1]&&(e[1]=void 0),e[2]?r=e[2]:"string"!=typeof e[1]&&(r=e[1]),m=R(r),f(s)&&m.unshift([":status",e[0].toString()]);const n=h.apply(this),i=m.map((([e])=>e.toLowerCase())),a=Object.keys(n);return a.length&&a.filter((e=>!i.includes(e))).reverse().forEach((e=>{const t=n[e];Array.isArray(t)?t.reverse().forEach((t=>m?.unshift([e,t]))):void 0!==t&&m?.unshift([e,t])})),o.apply(this,e)},s.getRawTrailers=()=>g??[],s.addTrailers=function(...e){const t=e[0];return g=R(t),d.apply(this,e)};const w=function(...e){return i.write.apply(i,e),c.apply(this,e)};return s.write=w,s.end=function(...e){s.write=c,i.end.apply(i,e);let t=u.apply(this,e);return s.write=w,t},s.body=y(i,n.maxSize,(()=>s.getHeaders())),i.on("error",(e=>s.emit("error",e))),s},t.waitForCompletedResponse=async function(e){if("headers"in e)return e;const t=await w(e.body,e.getHeaders());e.timingEvents.responseSentTimestamp=e.timingEvents.responseSentTimestamp||l();const r=s(e).pick(["id","statusCode","timingEvents","tags"]).assign({statusMessage:"",headers:e.getHeaders(),rawHeaders:e.getRawHeaders(),body:t,rawTrailers:e.getRawTrailers(),trailers:(0,p.rawHeadersToObject)(e.getRawTrailers())}).valueOf();return e instanceof o.Http2ServerResponse||(r.statusMessage=e.statusMessage),r},t.tryToParseHttpRequest=function(e,t){const r={};try{r.protocol=t.__lastHopEncrypted?"https":"http",t instanceof i.TLSSocket&&(r.hostname=t.servername);const n=(0,h.splitBuffer)(e,"\r\n"),o=n[0].slice(0,n[0].length).toString("ascii"),[a,c,u]=o.split(" ");a&&(r.method=a.slice(0,15));const l=s.findIndex(n,(e=>0===e.length));try{const e=n.slice(1,-1===l?void 0:l).map((e=>(0,h.splitBuffer)(e,":",2))).filter((e=>e.length>1)).map((e=>e.map((e=>e.toString("utf8").trim()))));r.rawHeaders=e,r.headers=(0,p.rawHeadersToObject)(e)}catch(e){}try{const e=d.parse(c);r.path=e.path??void 0;const t=s.find(r.headers,((e,t)=>"host"===t.toLowerCase()));t?r.hostname=Array.isArray(t)?t[0]:t:e.hostname&&(r.hostname=e.hostname),c.includes("://")||!r.hostname?r.url=c:r.url=`${r.protocol}://${r.hostname}${c.startsWith("/")?"":"/"}${c}`}catch(e){}try{const e=u.split("/")[1];r.httpVersion=e}catch(e){}}catch(e){}return r},t.parseRawHttpResponse=function(e,r){const{id:i,tags:o,timingEvents:a}=r,c=(0,h.splitBuffer)(e,"\r\n"),u=c[0].subarray(0,c[0].length).toString("ascii"),[l,d,...f]=u.split(" "),m=parseInt(d,10),y=f.join(" "),g=s.findIndex(c,(e=>0===e.length)),w=c.slice(1,-1===g?void 0:g).map((e=>(0,h.splitBuffer)(e,":",2))).map((e=>e.map((e=>e.toString("utf8").trim()))));return{id:i,tags:o,timingEvents:a,statusCode:m,statusMessage:y,rawHeaders:w,headers:(0,p.rawHeadersToObject)(w),body:(0,t.buildBodyReader)(n.from([]),{}),rawTrailers:[],trailers:{}}};const s=r(2543),i=r(25628),o=r(38989),a=r(88310),c=r(22894),u=r(26605),l=r(13491),d=r(88835),h=r(48121),p=r(73662);function f(e){return"httpVersion"in e&&!!e.httpVersion?.startsWith("2")||"stream"in e&&"createPushResponse"in e}async function m(e,t){const n=t["content-encoding"];return n?await(await Promise.resolve().then((()=>r(22214)))).decodeBuffer(e,n):e}t.shouldKeepAlive=e=>"1.0"!==e.httpVersion&&"close"!==e.headers.connection&&"close"!==e.headers["proxy-connection"],t.writeHead=(e,t,r,n)=>{const s=void 0===n?{}:f(e)&&Array.isArray(n)?(0,p.rawHeadersToObject)(n):f(e)?n:Array.isArray(n)?(0,p.flattenPairedRawHeaders)(n):(0,p.objectHeadersToFlat)(n);void 0===r?e.writeHead(t,s):e.writeHead(t,r,s)};const y=(e,t,r)=>{let n=null,s=null,i={asStream(){if(s)return(0,h.bufferToStream)(s);const t=i.asBuffer();return t.catch((()=>{})),(0,h.bufferThenStream)(t,e)},asBuffer:()=>(n||(n=(0,h.streamToBuffer)(e,t),n.then((e=>s=e)).catch((()=>{}))),n),asDecodedBuffer:async()=>m(await i.asBuffer(),r()),asText:(e="utf8")=>i.asDecodedBuffer().then((t=>t.toString(e))),asJson:()=>i.asText().then((e=>JSON.parse(e))),asFormData:()=>i.asText().then((e=>c.parse(e)))};return i};async function g(e){try{return await e()}catch{return}}const w=async(e,r)=>{const n=await e.asBuffer();return(0,t.buildBodyReader)(n,r)};function b(e){return{...s.pick(e,"id","matchedRuleId","protocol","httpVersion","method","url","path","remoteIpAddress","remotePort","hostname","headers","rawHeaders","tags"),timingEvents:e.timingEvents}}t.isMockttpBody=e=>e.hasOwnProperty("getDecodedBuffer"),t.buildBodyReader=(e,t)=>{const r={buffer:e,async getDecodedBuffer(){return g((async()=>(0,h.asBuffer)(await m(this.buffer,t))))},async getText(){return g((async()=>(await this.getDecodedBuffer()).toString()))},getJson:async()=>g((async()=>JSON.parse(await r.getText()))),getUrlEncodedFormData:async()=>g((async()=>{const e=t["content-type"];if(e?.includes("multipart/form-data"))return;const n=await r.getText();return n?c.parse(n):void 0})),async getMultipartFormData(){return g((async()=>{const e=t["content-type"];if(!e?.includes("multipart/form-data"))return;const r=e.match(/;\s*boundary=(\S+)/);if(!r)return;const n=(0,h.asBuffer)(await m(this.buffer,t));return u.parse(n,r[1])}))},getFormData:async()=>g((async()=>{const e=await r.getMultipartFormData();if(e){const t={};return e.forEach((e=>{const r=e.name;if(void 0===r);else{const n=t[r];void 0===n?t[r]=e.data.toString():Array.isArray(n)?n.push(e.data.toString()):t[r]=[n,e.data.toString()]}})),t}return r.getUrlEncodedFormData()}))};return r},t.parseRequestBody=(e,t)=>{e.body=y(e,t.maxSize,(()=>e.headers))};const R=e=>Array.isArray(e)?Array.isArray(e[0])?e:(0,p.pairFlatRawHeaders)(e):(0,p.objectHeadersToRaw)(e??{})},3202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrl=t.getEffectivePort=t.getPathFromAbsoluteUrl=t.getUrlWithoutProtocol=t.isAbsoluteProtocollessUrl=t.isRelativeUrl=t.isAbsoluteUrl=void 0;const n=r(88835),s=r(2543),i=r(66939);t.isAbsoluteUrl=e=>e.toLowerCase().startsWith("http://")||e.toLowerCase().startsWith("https://"),t.isRelativeUrl=e=>e.startsWith("/"),t.isAbsoluteProtocollessUrl=e=>!(0,t.isAbsoluteUrl)(e)&&!(0,t.isRelativeUrl)(e),t.getUrlWithoutProtocol=e=>e.split("://",2).slice(-1).join(""),t.getPathFromAbsoluteUrl=e=>{const t=(0,i.nthIndexOf)(e,"/",3);return-1!==t?e.slice(t):""},t.getEffectivePort=e=>e.port?parseInt(e.port,10):"https:"===e.protocol||"wss:"===e.protocol?443:80,t.normalizeUrl=s.memoize((e=>{let r,s=!1;try{const i=e.indexOf("?");-1!==i&&(e=e.slice(0,i)),(0,t.isAbsoluteProtocollessUrl)(e)?(r=n.parse("http://"+e),s=!0):r=n.parse(e),delete r.host,delete r.query,delete r.search,delete r.hash,r.pathname&&(r.pathname=r.pathname.replace(/\%[A-Fa-z0-9]{2}/g,(e=>e.toUpperCase())).replace(/[^\u0000-\u007F]+/g,(e=>encodeURIComponent(e)))),r.hostname&&r.hostname.endsWith(".")&&(r.hostname=r.hostname.slice(0,-1)),("https:"===r.protocol&&"443"===r.port||"http:"===r.protocol&&"80"===r.port)&&delete r.port}catch(t){if(console.log(`Failed to normalize URL ${e}`),console.log(t),!r)return e}let i=n.format(r);return s&&(i=i.slice(7)),i}))},66939:(e,t,r)=>{"use strict";var n=r(48287).Buffer,s=r(65606);Object.defineProperty(t,"__esModule",{value:!0}),t.makePropertyWritable=t.isNode=t.isWeb=t.isWorker=void 0,t.nthIndexOf=function(e,t,r){let n=-1;for(;r>0&&(r-=1,n=e.indexOf(t,n+1),-1!==n););return n},t.byteLength=function(e){return"string"==typeof e?t.isNode?n.from(e,"utf8").byteLength:new Blob([e]).size:e.length},t.delay=function(e){return new Promise((t=>setTimeout(t,e)))},t.isWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,t.isWeb="undefined"!=typeof Window&&self instanceof Window,t.isNode=!t.isWorker&&!t.isWeb&&"object"==typeof s&&s.version,t.makePropertyWritable=(e,t)=>Object.defineProperty(e,t,{value:e[t],writable:!0})},54853:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionClient=void 0;var a=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},c=a.WebSocket||a.MozWebSocket,u=r(63059),l=r(30228),d=r(17064),h=r(6682),p=r(99352),f=r(93217),m=r(9423),y=r(44818),g=r(21424),w=r(92843),b=function(){function e(e,t,r,n){var s=t||{},i=s.connectionCallback,o=void 0===i?void 0:i,a=s.connectionParams,d=void 0===a?{}:a,h=s.minTimeout,p=void 0===h?g.MIN_WS_TIMEOUT:h,f=s.timeout,m=void 0===f?g.WS_TIMEOUT:f,w=s.reconnect,b=void 0!==w&&w,R=s.reconnectionAttempts,v=void 0===R?1/0:R,S=s.lazy,C=void 0!==S&&S,T=s.inactivityTimeout,E=void 0===T?0:T,O=s.wsOptionArguments,k=void 0===O?[]:O;if(this.wsImpl=r||c,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=n||y.GRAPHQL_WS,this.connectionCallback=o,this.url=e,this.operations={},this.nextOperationId=0,this.minWsTimeout=p,this.wsTimeout=m,this.unsentMessagesQueue=[],this.reconnect=b,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!C,this.inactivityTimeout=E,this.closedByUser=!1,this.backoff=new u({jitter:.5}),this.eventEmitter=new l.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(d),this.wsOptionArguments=k,this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,w.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onmessage=null,this.client.onerror=function(){},this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,r,n=this.getObserver.bind(this),s=this.executeOperation.bind(this),i=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[m.default]=function(){return this},t.subscribe=function(t,o,a){var c=n(t,o,a);return r=s(e,(function(e,t){null===e&&null===t?c.complete&&c.complete():e?c.error&&c.error(e[0]):c.next&&c.next(t)})),{unsubscribe:function(){r&&(i(r),r=null)}}},t},e.prototype.on=function(e,t,r){var n=this.eventEmitter.on(e,t,r);return function(){n.off(e,t,r)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach((function(t){e.unsubscribe(t)}))},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise((function(r,n){var s,i,a;s=o([],t.middlewares,!0),i=t,(a=function(t){if(t)n(t);else if(s.length>0){var o=s.shift();o&&o.applyMiddleware.apply(i,[e,a])}else r(e)})()}))},e.prototype.use=function(e){var t=this;return e.map((function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)})),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise((function(t,r){if("function"==typeof e)try{return t(e.call(null))}catch(e){return r(e)}t(e)}))}},e.prototype.executeOperation=function(e,t){var r=this;null===this.client&&this.connect();var n=this.generateOperationId();return this.operations[n]={options:e,handler:t},this.applyMiddlewares(e).then((function(e){r.checkOperationOptions(e,t),r.operations[n]&&(r.operations[n]={options:e,handler:t},r.sendMessage(n,w.default.GQL_START,e))})).catch((function(e){r.unsubscribe(n),t(r.formatErrors(e))})),n},e.prototype.getObserver=function(e,t,r){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return r&&r()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.minWsTimeout,t=this.wsTimeout;return new u({min:e,max:t,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((function(){0===Object.keys(e.operations).length&&e.close()}),this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var r=e.query,n=e.variables,s=e.operationName;if(!r)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!(0,d.default)(r)&&!(0,f.getOperationAST)(r,s)||s&&!(0,d.default)(s)||n&&!(0,h.default)(n))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,r){return{id:e,type:t,payload:r&&r.query?n(n({},r),{query:"string"==typeof r.query?r.query:(0,p.print)(r.query)}):r}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,r){this.sendMessageRaw(this.buildMessage(e,t,r))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: ".concat(e)))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach((function(t){e.unsentMessagesQueue.push(e.buildMessage(t,w.default.GQL_START,e.operations[t].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((function(){e.connect()}),t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach((function(t){e.sendMessageRaw(t)})),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))}),this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e,t=this;this.client=new((e=this.wsImpl).bind.apply(e,o([void 0,this.url,this.wsProtocols],this.wsOptionArguments,!1))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return s(t,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=r.sent(),this.sendMessage(void 0,w.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=r.sent(),this.sendMessage(void 0,w.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}}))}))},this.client.onclose=function(){t.closedByUser||t.close(!1,!1)},this.client.onerror=function(e){t.eventEmitter.emit("error",e)},this.client.onmessage=function(e){var r=e.data;t.processReceivedData(r.toString())}},e.prototype.processReceivedData=function(e){var t,r;try{r=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: ".concat(e))}if(-1===[w.default.GQL_DATA,w.default.GQL_COMPLETE,w.default.GQL_ERROR].indexOf(t.type)||this.operations[r])switch(t.type){case w.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case w.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",t.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case w.default.GQL_COMPLETE:var s=this.operations[r].handler;delete this.operations[r],s.call(this,null,null);break;case w.default.GQL_ERROR:this.operations[r].handler(this.formatErrors(t.payload),null),delete this.operations[r];break;case w.default.GQL_DATA:var i=t.payload.errors?n(n({},t.payload),{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[r].handler(null,i);break;case w.default.GQL_CONNECTION_KEEP_ALIVE:var o=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(r)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,w.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=b},21424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_TIMEOUT=t.MIN_WS_TIMEOUT=void 0,t.MIN_WS_TIMEOUT=1e3,t.WS_TIMEOUT=3e4},92843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=r},44818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPHQL_SUBSCRIPTIONS=t.GRAPHQL_WS=void 0,t.GRAPHQL_WS="graphql-ws",t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},6682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"==typeof e}},17064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},38967:(e,t)=>{!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<64;n++)r[e.charCodeAt(n)]=n;t.encode=function(t){var r,n=new Uint8Array(t),s=n.length,i="";for(r=0;r<s;r+=3)i+=e[n[r]>>2],i+=e[(3&n[r])<<4|n[r+1]>>4],i+=e[(15&n[r+1])<<2|n[r+2]>>6],i+=e[63&n[r+2]];return s%3==2?i=i.substring(0,i.length-1)+"=":s%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,n,s,i,o,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),d=new Uint8Array(l);for(t=0;t<c;t+=4)n=r[e.charCodeAt(t)],s=r[e.charCodeAt(t+1)],i=r[e.charCodeAt(t+2)],o=r[e.charCodeAt(t+3)],d[u++]=n<<2|s>>4,d[u++]=(15&s)<<4|i>>2,d[u++]=(3&i)<<6|63&o;return l}}()},49542:(e,t,r)=>{"use strict";if(r.r(t),r.d(t,{NIL:()=>a.A,parse:()=>d.A,stringify:()=>l.A,v1:()=>n.A,v3:()=>s.A,v4:()=>i.A,v5:()=>o.A,validate:()=>u.A,version:()=>c.A}),"main"==r.j)var n=r(6577);if("main"==r.j)var s=r(23897);if("main"==r.j)var i=r(14670);if("main"==r.j)var o=r(89152);if("main"==r.j)var a=r(70297);if("main"==r.j)var c=r(12530);if("main"==r.j)var u=r(40274);if("main"==r.j)var l=r(38715);if("main"==r.j)var d=r(83749)},70297:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="00000000-0000-0000-0000-000000000000"},83749:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>s}),"main"==r.j)var n=r(40274);const s="main"==r.j?function(e){if(!(0,n.A)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}:null},70025:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},59315:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>i});var s=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}},38715:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>o}),"main"==r.j)var n=r(40274);for(var s=[],i=0;i<256;++i)s.push((i+256).toString(16).substr(1));const o="main"==r.j?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,n.A)(r))throw TypeError("Stringified UUID is invalid");return r}:null},6577:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>u}),"main"==r.j)var n=r(59315);if("main"==r.j)var s=r(38715);var i,o,a=0,c=0;const u="main"==r.j?function(e,t,r){var u=t&&r||0,l=t||new Array(16),d=(e=e||{}).node||i,h=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==h){var p=e.random||(e.rng||n.A)();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,y=f-a+(m-c)/1e4;if(y<0&&void 0===e.clockseq&&(h=h+1&16383),(y<0||f>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=m,o=h;var g=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;var w=f/4294967296*1e4&268435455;l[u++]=w>>>8&255,l[u++]=255&w,l[u++]=w>>>24&15|16,l[u++]=w>>>16&255,l[u++]=h>>>8|128,l[u++]=255&h;for(var b=0;b<6;++b)l[u+b]=d[b];return t||(0,s.A)(l)}:null},23897:(e,t,r)=>{"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function s(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,n,i,o){return s((a=s(s(t,e),s(n,o)))<<(c=i)|a>>>32-c,r);var a,c}function o(e,t,r,n,s,o,a){return i(t&r|~t&n,e,t,s,o,a)}function a(e,t,r,n,s,o,a){return i(t&n|r&~n,e,t,s,o,a)}function c(e,t,r,n,s,o,a){return i(t^r^n,e,t,s,o,a)}function u(e,t,r,n,s,o,a){return i(r^(t|~n),e,t,s,o,a)}r.d(t,{A:()=>l});const l=(0,r(69932).Ay)("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",s=0;s<r;s+=8){var i=e[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var r=1732584193,i=-271733879,l=-1732584194,d=271733878,h=0;h<e.length;h+=16){var p=r,f=i,m=l,y=d;r=o(r,i,l,d,e[h],7,-680876936),d=o(d,r,i,l,e[h+1],12,-389564586),l=o(l,d,r,i,e[h+2],17,606105819),i=o(i,l,d,r,e[h+3],22,-1044525330),r=o(r,i,l,d,e[h+4],7,-176418897),d=o(d,r,i,l,e[h+5],12,1200080426),l=o(l,d,r,i,e[h+6],17,-1473231341),i=o(i,l,d,r,e[h+7],22,-45705983),r=o(r,i,l,d,e[h+8],7,1770035416),d=o(d,r,i,l,e[h+9],12,-1958414417),l=o(l,d,r,i,e[h+10],17,-42063),i=o(i,l,d,r,e[h+11],22,-1990404162),r=o(r,i,l,d,e[h+12],7,1804603682),d=o(d,r,i,l,e[h+13],12,-40341101),l=o(l,d,r,i,e[h+14],17,-1502002290),r=a(r,i=o(i,l,d,r,e[h+15],22,1236535329),l,d,e[h+1],5,-165796510),d=a(d,r,i,l,e[h+6],9,-1069501632),l=a(l,d,r,i,e[h+11],14,643717713),i=a(i,l,d,r,e[h],20,-373897302),r=a(r,i,l,d,e[h+5],5,-701558691),d=a(d,r,i,l,e[h+10],9,38016083),l=a(l,d,r,i,e[h+15],14,-660478335),i=a(i,l,d,r,e[h+4],20,-405537848),r=a(r,i,l,d,e[h+9],5,568446438),d=a(d,r,i,l,e[h+14],9,-1019803690),l=a(l,d,r,i,e[h+3],14,-187363961),i=a(i,l,d,r,e[h+8],20,1163531501),r=a(r,i,l,d,e[h+13],5,-1444681467),d=a(d,r,i,l,e[h+2],9,-51403784),l=a(l,d,r,i,e[h+7],14,1735328473),r=c(r,i=a(i,l,d,r,e[h+12],20,-1926607734),l,d,e[h+5],4,-378558),d=c(d,r,i,l,e[h+8],11,-2022574463),l=c(l,d,r,i,e[h+11],16,1839030562),i=c(i,l,d,r,e[h+14],23,-35309556),r=c(r,i,l,d,e[h+1],4,-1530992060),d=c(d,r,i,l,e[h+4],11,1272893353),l=c(l,d,r,i,e[h+7],16,-155497632),i=c(i,l,d,r,e[h+10],23,-1094730640),r=c(r,i,l,d,e[h+13],4,681279174),d=c(d,r,i,l,e[h],11,-358537222),l=c(l,d,r,i,e[h+3],16,-722521979),i=c(i,l,d,r,e[h+6],23,76029189),r=c(r,i,l,d,e[h+9],4,-640364487),d=c(d,r,i,l,e[h+12],11,-421815835),l=c(l,d,r,i,e[h+15],16,530742520),r=u(r,i=c(i,l,d,r,e[h+2],23,-995338651),l,d,e[h],6,-198630844),d=u(d,r,i,l,e[h+7],10,1126891415),l=u(l,d,r,i,e[h+14],15,-1416354905),i=u(i,l,d,r,e[h+5],21,-57434055),r=u(r,i,l,d,e[h+12],6,1700485571),d=u(d,r,i,l,e[h+3],10,-1894986606),l=u(l,d,r,i,e[h+10],15,-1051523),i=u(i,l,d,r,e[h+1],21,-2054922799),r=u(r,i,l,d,e[h+8],6,1873313359),d=u(d,r,i,l,e[h+15],10,-30611744),l=u(l,d,r,i,e[h+6],15,-1560198380),i=u(i,l,d,r,e[h+13],21,1309151649),r=u(r,i,l,d,e[h+4],6,-145523070),d=u(d,r,i,l,e[h+11],10,-1120210379),l=u(l,d,r,i,e[h+2],15,718787259),i=u(i,l,d,r,e[h+9],21,-343485551),r=s(r,p),i=s(i,f),l=s(l,m),d=s(d,y)}return[r,i,l,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),s=0;s<t;s+=8)r[s>>5]|=(255&e[s/8])<<s%32;return r}(e),8*e.length))}))},69932:(e,t,r)=>{"use strict";if(r.d(t,{Ay:()=>a}),"main"==r.j)var n=r(38715);if("main"==r.j)var s=r(83749);var i="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function a(e,t,r){function a(e,i,o,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=(0,s.A)(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(i),c.set(e,i.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return(0,n.A)(c)}try{a.name=e}catch(e){}return a.DNS=i,a.URL=o,a}},14670:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>i}),"main"==r.j)var n=r(59315);if("main"==r.j)var s=r(38715);const i="main"==r.j?function(e,t,r){var i=(e=e||{}).random||(e.rng||n.A)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=i[o];return t}return(0,s.A)(i)}:null},89152:(e,t,r)=>{"use strict";function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function s(e,t){return e<<t|e>>>32-t}r.d(t,{A:()=>i});const i=(0,r(69932).Ay)("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var o=0;o<i.length;++o)e.push(i.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,c=Math.ceil(a/16),u=new Array(c),l=0;l<c;++l){for(var d=new Uint32Array(16),h=0;h<16;++h)d[h]=e[64*l+4*h]<<24|e[64*l+4*h+1]<<16|e[64*l+4*h+2]<<8|e[64*l+4*h+3];u[l]=d}u[c-1][14]=8*(e.length-1)/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<c;++p){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=u[p][m];for(var y=16;y<80;++y)f[y]=s(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);for(var g=r[0],w=r[1],b=r[2],R=r[3],v=r[4],S=0;S<80;++S){var C=Math.floor(S/20),T=s(g,5)+n(C,w,b,R)+v+t[C]+f[S]>>>0;v=R,R=b,b=s(w,30)>>>0,w=g,g=T}r[0]=r[0]+g>>>0,r[1]=r[1]+w>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},40274:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>s}),"main"==r.j)var n=r(70025);const s="main"==r.j?function(e){return"string"==typeof e&&n.A.test(e)}:null},12530:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>s}),"main"==r.j)var n=r(40274);const s="main"==r.j?function(e){if(!(0,n.A)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}:null}}]);
//# sourceMappingURL=mockttp.js.map